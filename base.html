<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GÃ¶rev & Not UygulamasÄ±</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
<div class="app d-flex">

  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar bg-dark text-white vh-100 p-3">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="fs-5 mb-0">MenÃ¼</h2>
      <button class="btn btn-outline-light btn-sm" id="toggleSidebar">
        <i class="bi bi-list"></i>
      </button>
    </div>

    <nav class="nav flex-column">
      <a class="nav-item nav-link text-white" href="#" id="link-add-note"><i class="bi bi-plus-circle"></i> <span class="sidebar-text">Yeni Not Ekle</span></a>
      <a class="nav-item nav-link text-white" href="{{ url_for('dashboard.all_notes') }}"><i class="bi bi-journal-text"></i> <span class="sidebar-text">TÃ¼m Notlar</span></a>
      <a class="nav-item nav-link text-white" href="#" id="link-starred-notes"><i class="bi bi-star"></i> <span class="sidebar-text">YÄ±ldÄ±zlÄ± Notlar</span></a>
      <hr class="text-white">
      <a class="nav-item nav-link text-white" href="#" id="link-add-task"><i class="bi bi-calendar-plus"></i> <span class="sidebar-text">GÃ¶rev Ekle</span></a>
      <a class="nav-item nav-link text-white" href="#" id="link-all-tasks"><i class="bi bi-list-task"></i> <span class="sidebar-text">TÃ¼m GÃ¶revlerim</span></a>
      <a class="nav-item nav-link text-white" href="#" id="link-starred-tasks"><i class="bi bi-star-fill"></i><span class="sidebar-text">YÄ±ldÄ±zlÄ± GÃ¶revler</span></a>
      <a class="nav-item nav-link text-white" href="#" id="link-upcoming-tasks"><i class="bi bi-alarm"></i><span class="sidebar-text">ZamanÄ± YaklaÅŸan GÃ¶revler</span></a>
      <a class="nav-item nav-link text-white" href="#" id="link-completed-tasks"><i class="bi bi-check2-square"></i> <span class="sidebar-text">Tamamlanan GÃ¶revler</span></a>
      <hr class="text-white">
      <a class="nav-item nav-link text-white" href="#" id="link-settings"><i class="bi bi-gear"></i><span class="sidebar-text">Ayarlar</span></a>
      <a class="nav-item nav-link text-white" href="{{ url_for('auth.logout') }}"><i class="bi bi-box-arrow-right"></i> <span class="sidebar-text">Ã‡Ä±kÄ±ÅŸ</span></a>
    </nav>
  </aside>
  

  <!-- Main -->
  <main class="main flex-fill p-3">
    <header class="topbar bg-light p-3 mb-3 d-flex justify-content-between">
      <h1 class="h5">{% block title %}Dashboard{% endblock %}</h1>
      {% if current_user.is_authenticated %}
        <div class="user-icon">{{ current_user.username[:2].upper() }}</div>
      {% endif %}
    </header>

    <div id="mainContent">
      {% block content %}
      <h3>HoÅŸ geldin, {{ current_user.username }} ğŸ‘‹</h3>
      <p>Soldaki menÃ¼den iÅŸlem seÃ§ebilirsin.</p>
      {% endblock %}
    </div>
  </main>
</div>

<!-- Toast -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100;">
  <div id="toast" class="toast align-items-center text-bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="toast-body">Mesaj</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Kapat"></button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/app.js') }}"></script>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-container" style="margin: 1em;">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}" role="alert">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

</body>
</html>
